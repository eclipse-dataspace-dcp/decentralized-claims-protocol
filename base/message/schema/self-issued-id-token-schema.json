{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "title": "Self-Issued ID Token",
    "type": "object",
    "properties": {
        "sub": {
            "type": "string",
            "description": "Subject identifier"
        },
        "iss": {
            "type": "string",
            "description": "Issuer identifier"
        },
        "iat": {
            "type": "integer",
            "description": "Issued at time (seconds since epoch)"
        },
        "exp": {
            "type": "integer",
            "description": "Expiration time (seconds since epoch)"
        },
        "jti": {
            "type": "string",
            "description": "JWT ID"
        },
        "bearer_access_scope": {
            "type": "string",
            "description": "Authorization request parameter containing a list of space-delimited scopes for the token claim"
        },
        "token": {
            "type": "string",
            "description": "An access token for obtaining additional VPs from a service"
        }
    },
    "required": [
        "sub",
        "iss",
        "iat",
        "exp",
        "jti"
    ],
    "if": {
        "properties": {
            "bearer_access_scope": { "type": "string" }
        },
        "required": ["bearer_access_scope"]
    },
    "then": {
        "required": ["token"]
    },
    "else": {
        "not": {
            "required": ["token"]
        }
    }
}